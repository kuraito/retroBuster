# üé¨ Retroflix - Full-Stack Movie Streaming Platform

**Una web app stile BlockBuster quindi focalizzata su film retr√≤ (fino al 2010) con architettura moderna full-stack.**

![Retroflix](https://img.shields.io/badge/Status-In%20Development-yellow)
![React](https://img.shields.io/badge/React-18.2.0-blue)
![Node.js](https://img.shields.io/badge/Node.js-Express-green)
![MongoDB](https://img.shields.io/badge/Database-MongoDB%20Atlas-brightgreen)

---

## üìã Indice

- [üéØ Overview](#-overview)
- [üèóÔ∏è Architettura](#Ô∏è-architettura)
- [‚ö° Quick Start](#-quick-start)
- [üõ†Ô∏è Stack Tecnologico](#Ô∏è-stack-tecnologico)
- [üìÇ Struttura del Progetto](#-struttura-del-progetto)
- [üîÑ Flusso di Dati](#-flusso-di-dati)
- [üåê API Endpoints](#-api-endpoints)
- [üóÑÔ∏è Database Schema](#Ô∏è-database-schema)
- [‚öôÔ∏è Configurazione](#Ô∏è-configurazione)
- [üöÄ Deploy](#-deploy)

---

## üéØ Overview

Retroflix √® una piattaforma di streaming per film retr√≤ che replica l'esperienza Netflix con tecnologie moderne. Gli utenti possono:

- üé¨ **Sfogliare** un catalogo di film retr√≤
- ‚≠ê **Vedere** film in evidenza
- üîç **Cercare** film per titolo/anno
- üìã **Gestire** una watchlist personale
- üì± **Noleggiare** film (sistema simulato)

---

## üèóÔ∏è Architettura

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    üì° HTTP/REST API    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    üîó Mongoose    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                 ‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ ‚îÇ                 ‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ ‚îÇ                 ‚îÇ
‚îÇ  FRONTEND       ‚îÇ                         ‚îÇ  BACKEND        ‚îÇ                    ‚îÇ  DATABASE       ‚îÇ
‚îÇ  React + Vite   ‚îÇ ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ ‚îÇ  Node + Express ‚îÇ ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ ‚îÇ  MongoDB Atlas  ‚îÇ
‚îÇ  Port: 5173     ‚îÇ    üì§ JSON Response     ‚îÇ  Port: 3001     ‚îÇ    üìä Documents    ‚îÇ  Cloud Database ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### **Comunicazione Cross-Origin**
- ‚úÖ **CORS** configurato per `localhost:5173` ‚Üí `localhost:3001`
- ‚úÖ **Environment Variables** per configurazioni
- ‚úÖ **Fallback System** per robustezza (mockMovies ‚Üí Database)

---

## ‚ö° Quick Start

### **1. Clona il Repository**
```bash
git clone https://github.com/kuraito/retroBuster.git
cd retroBuster
```

### **2. Setup Backend**
```bash
cd retroflixBck
npm install
cp .env.example .env  # Configura le tue credenziali MongoDB
npm run dev           # Avvia su http://localhost:3001
```

### **3. Setup Frontend**
```bash
cd ../frontend
npm install
npm run dev          # Avvia su http://localhost:5173
```

### **4. Database Setup**
```bash
cd ../retroflixBck
node seed.js         # Popola il database con film di esempio
```

**üéâ L'app √® pronta su `http://localhost:5173`**

---

## üõ†Ô∏è Stack Tecnologico

### **Frontend**
- **‚öõÔ∏è React 18.2.0** - UI Library con Hooks
- **üöÄ Vite 4.5.14** - Build Tool veloce
- **üé® Tailwind CSS** - Styling con tema retr√≤
- **üõ£Ô∏è React Router** - SPA Navigation

### **Backend**
- **üü¢ Node.js** - Runtime JavaScript
- **üöÄ Express** - Web Framework
- **üóÑÔ∏è Mongoose** - MongoDB
- **üîê dotenv** - Environment Management
- **üåê CORS** - Cross-Origin Resource Sharing

### **Database**
- **üçÉ MongoDB Atlas** - Cloud NoSQL Database
- **üìä Collections:** `movies` (film catalog)

### **Tools & DevOps**
- **üì¶ npm** - Package Manager
- **üîÑ Nodemon** - Auto-restart durante sviluppo
- **üîí .gitignore** - Protezione credenziali
- **üìù ESLint** - Code Quality

---

## üìÇ Struttura del Progetto

```
retroflixprog/
‚îú‚îÄ‚îÄ üé® frontend/                    # Client React
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/             # Componenti riutilizzabili
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MovieCard.jsx      # Card singolo film
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ MovieDetail.jsx    # Dettaglio film completo
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/                 # Pagine principali
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Home.jsx           # Homepage con film in evidenza
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Catalogo.jsx       # Lista completa + ricerca
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/              # Logica business
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ api.js             # Servizi API per backend
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ mockMovies.js          # Dati di fallback
‚îÇ   ‚îî‚îÄ‚îÄ .env                       # Config frontend (VITE_API_URL)
‚îÇ
‚îú‚îÄ‚îÄ üöÄ retroflixBck/               # Server Node.js
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/                # Schema MongoDB
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Movie.js           # Model film
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes/                # Endpoint API
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ movies.js          # CRUD operations
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config/                # Configurazioni
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ db.js              # Connessione MongoDB
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ server.js              # Entry point Express
‚îÇ   ‚îú‚îÄ‚îÄ .env                       # Config backend (MONGO_URI, PORT)
‚îÇ   ‚îú‚îÄ‚îÄ .gitignore                 # Esclude .env dal git
‚îÇ   ‚îî‚îÄ‚îÄ seed.js                    # Popolamento database iniziale
‚îÇ
‚îî‚îÄ‚îÄ üìö README.md                   # Documentazione
```

---

## üîÑ Flusso di Dati

### **1. Caricamento Homepage (Film in Evidenza)**
```mermaid
graph LR
    A[User apre /] --> B[Home.jsx]
    B --> C[movieService.getFeaturedMovies()]
    C --> D[GET /api/movies/featured]
    D --> E[Backend: Movie.find().limit(3)]
    E --> F[MongoDB Atlas]
    F --> G[3 film restituiti]
    G --> H[React State aggiornato]
    H --> I[UI renderizzata]
```

### **2. Visualizzazione Dettaglio Film**
```mermaid
graph LR
    A[User clicca Dettagli] --> B[Link /film/:id]
    B --> C[MovieDetail.jsx]
    C --> D[movieService.getMovieById(id)]
    D --> E[GET /api/movies/:id]
    E --> F[Backend: Movie.findById(id)]
    F --> G[MongoDB Atlas]
    G --> H[Film completo restituito]
    H --> I[Pagina dettaglio renderizzata]
```

### **3. Sistema di Fallback**
```mermaid
graph TD
    A[API Call] --> B{Backend risponde?}
    B -->|‚úÖ S√¨| C[Usa dati database]
    B -->|‚ùå No| D[Fallback a mockMovies]
    C --> E[Rendering UI]
    D --> E
```

---

## üåê API Endpoints

### **Movies API (`/api/movies`)**

| Method | Endpoint | Descrizione | Response |
|--------|----------|-------------|----------|
| `GET` | `/api/movies` | Lista tutti i film | `Array<Movie>` |
| `GET` | `/api/movies/featured` | Primi 3 film in evidenza | `Array<Movie>` |
| `GET` | `/api/movies/:id` | Film specifico per ObjectId | `Movie` |
| `POST` | `/api/movies/rent/:id` | Noleggia film (simulato) | `RentResponse` |
| `POST` | `/api/movies/return/:id` | Restituisci film | `ReturnResponse` |

### **Health Check**

| Method | Endpoint | Descrizione |
|--------|----------|-------------|
| `GET` | `/health` | Status server e database |

### **Esempi di Response**

**GET `/api/movies/featured`**
```json
[
  {
    "_id": "68bc0b4e418b26098ba4b68f",
    "title": "Matrix",
    "year": 1999,
    "poster": "https://image.tmdb.org/t/p/w500/...",
    "description": "Un programmatore scopre...",
    "available": true
  }
]
```

**Error Response**
```json
{
  "error": "Film non trovato",
  "details": "ID fornito non √® nel formato corretto"
}
```

---

## üóÑÔ∏è Database Schema

### **Movies Collection**
```javascript
{
  _id: ObjectId,           // ID MongoDB auto-generato
  title: String,           // Titolo film
  year: Number,            // Anno di uscita
  poster: String,          // URL immagine poster
  description: String,     // Descrizione film
  available: Boolean,      // Disponibile per noleggio
  __v: Number             // Version key (Mongoose)
}
```

### **Indexes**
```javascript
// Index per performance ricerca
db.movies.createIndex({ title: "text", description: "text" })
db.movies.createIndex({ year: 1 })
db.movies.createIndex({ available: 1 })
```

---

## ‚öôÔ∏è Configurazione

### **Frontend Environment (`.env`)**
```bash
# URL del backend API
VITE_API_URL=http://localhost:3001/api

# Per produzione
# VITE_API_URL=https://yourdomain.com/api
```

### **Backend Environment (`.env`)**
```bash
# MongoDB Atlas Connection
MONGO_URI=mongodb+srv://username:password@cluster.mongodb.net/dbname

# Server Configuration
PORT=3001
NODE_ENV=development

# CORS Settings
FRONTEND_URL=http://localhost:5173

# Security (per futuro)
JWT_SECRET=your_jwt_secret_here
```

### **Package.json Scripts**

**Frontend:**
```json
{
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "preview": "vite preview"
  }
}
```

**Backend:**
```json
{
  "scripts": {
    "dev": "nodemon src/server.js",
    "start": "node src/server.js",
    "seed": "node seed.js"
  }
}
```

---

## üîß Troubleshooting

### **‚ùå CORS Error**
```
Access-Control-Allow-Origin header missing
```
**Soluzione:** Verifica che `FRONTEND_URL` in `.env` backend corrisponda all'URL frontend

### **‚ùå MongoDB Connection Failed**
```
MongoNetworkError: connection refused
```
**Soluzione:** Controlla `MONGO_URI` e IP whitelist su MongoDB Atlas

### **‚ùå API 404 Not Found**
```
Cannot GET /api/movies
```
**Soluzione:** Verifica che il backend sia avviato su porta 3001

---

## üë• Contributi

1. Fork del repository
2. Crea feature branch (`git checkout -b feature/amazing-feature`)
3. Commit cambiamenti (`git commit -m 'Add amazing feature'`)
4. Push al branch (`git push origin feature/amazing-feature`)
5. Apri Pull Request

---

## üìÑ Licenza

Questo progetto √® sotto licenza MIT. Vedi `LICENSE` per dettagli.

---

## üéØ Roadmap Future

- [ ] üîê Sistema autenticazione utenti (JWT)
- [ ] üîç Ricerca avanzata con filtri
- [ ] üì± Progressive Web App (PWA)
- [ ] üéÆ Sistema recensioni e valutazioni
- [ ] üìß Notifiche email
- [ ] üìä Dashboard admin per gestione film

---

**Made by [kuraito](https://github.com/kuraito)**