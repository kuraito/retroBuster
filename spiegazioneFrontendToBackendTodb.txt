ğŸ–¥ï¸ FRONTEND (React)    ğŸ“¡ BACKEND (Node.js)    ğŸ—„ï¸ DATABASE (MongoDB)
Port 5173        â†â†’    Port 3001         â†â†’    MongoDB Atlas

FRONTEND (REACT):
chiamata api del frontend in api.js nella cartella services:

gli dico prima qual Ã¨ l'indirizzo del backend (scritto in un file .env)

quindi faccio una chiamata a URLBACKEND/movies e aspettiamo la risposta
      const response = await fetch(`${BACKEND_URL}/movies`);

Stessa cosa per i primi tre film facciamo una chiamata a: 
      const response = await fetch(`${BACKEND_URL}/movies/featured`);

In un'altra funzione di api.js

REACT USA I DATI: in catalogo.jsx
	const [movies, setMovies] = useState([]);

	useEffect(() => {
  		const loadMovies = async () => {
    			// ğŸ”„ Chiama il servizio API
    			const filmsFromBackend = await movieService.getAllMovies();
    			setMovies(filmsFromBackend); // â† Aggiorna lo stato di React
  		};
  		loadMovies();
	}, []);


BACKEND:
In server.js ricevere la chiammata 
Delega a: 
	app.use("/api/movies", moviesRoutes); // â† Delega a movies.js
PoichÃ¨ sopra l'abbiamo definito: 
	const moviesRoutes = require("./routes/movies"); // Le rotte per gestire i film

In server.js configuriamo CORS che ci permette di comunicare frontend <-> backend

	app.use(cors({
  		origin: 'http://localhost:5173', // â† Frontend autorizzato
  		credentials: true
	}));

Quindi backend -> database 
movies.js si occupa di ciÃ²

// ğŸ—„ï¸ Importa il modello per il database dalla cartella models Movie.js
const Movie = require("../models/Movie");

// ğŸ“‹ API: OTTIENI TUTTI I FILM
router.get("/", async (req, res) => {
  try {
    console.log('ğŸ“¡ RICHIESTA RICEVUTA: Tutti i film');
    console.log('ğŸ—„ï¸ Caricamento film dal database...');

    const filmsFromDatabase = await Movie.find({});
    
    console.log(`âœ… FILM CARICATI DAL DB: ${filmsFromDatabase.length} film trovati`);
    
    // ğŸ“¤ Invia i film veri dal database al frontend
    res.json(filmsFromDatabase);
    
  } catch (error) {
    console.error('âŒ ERRORE nella rotta /movies:', error);
    res.status(500).json({ 
      error: 'Errore nel caricamento dei film',
      details: error.message 
    });
  }
});

Sempre in server.js invece ci colleghiamo al database
	await mongoose.connect(process.env.MONGO_URI);



ğŸ”„ FLUSSO COMPLETO DI UNA RICHIESTA
Quando l'utente apre il catalogo:
ğŸ‘¤ USER: Clicca su "Catalogo" â†’ React carica Catalogo.jsx

âš›ï¸ REACT: useEffect chiama movieService.getAllMovies()

ğŸ“¡ FETCH: GET http://localhost:3001/api/movies

ğŸšª CORS: Backend verifica: "Chiamata da localhost:5173? âœ… Autorizzata"

ğŸ›£ï¸ EXPRESS: Server instrada verso movies.js

ğŸ—„ï¸ MONGODB: const films = await Movie.find({});

ğŸ“Š DATABASE: MongoDB Atlas restituisce 9 film

ğŸ“¤ BACKEND: res.json(filmsFromDatabase);

ğŸ“¨ RESPONSE: JSON con 9 film viaggia verso il frontend

âš›ï¸ REACT: setMovies(filmsFromBackend);

ğŸ–¥ï¸ UI: I 9 film appaiono nella griglia del catalogo